<!DOCTYPE html>
<html>
<head>
	<title>Hello</title>
	<link rel="stylesheet" type="text/css" href="main.css">
	<script type="text/javascript" src="mspace.js"></script>
	<script type="text/javascript" src="/socket.io/socket.io.js"></script>
	<script type="text/javascript" src="asciimath.js"></script>
	<script type="text/javascript">
	var socket = io.connect();
	socket.on('news', function (data) {
		console.log(data);
	});
	socket.on('message', function(data){
		console.log(data);
	});
	socket.emit('message', { my: 'data' });
	
	function math(){
		if (AMnames.length==0) initSymbols();//"symbolizes" math
		var input = document.getElementById("in").value;
		var out = document.getElementById("out");
		var n = out.childNodes.length;
		for (var i = 0; i < n; i++){
			out.removeChild(out.firstChild);
		}
		out.appendChild(document.createTextNode(input));
		AMprocessNode(out);
	}
	
	function render(elem){
		if (AMnames.length==0) initSymbols();//"symbolizes" math
		var out = document.getElementById(elem);
		AMprocessNode(out);//renders basic math
	}
	
	//and now a bunch of render calls so the basic help doesnt look SUPER DUMB
	document.addEventListener("DOMContentLoaded", function(event) {//kick off the party when the DOM is ready.
		render("demo_eq");
		render("demo_sy");
	});
	</script>
</head>
<body>
	<math></math>
	<h1>Hello</h1>
	<div>
		<textarea placeholder="Type equations or plain text here!"id="in" type="text" onkeyup="math()" cols="80" rows="10"></textarea>
		<div>
			<p>Equations are formatted in plain text as: x^2+3x-5 which results in: <span id="demo_eq">x^2+3x-5</span></p>
			<p>To render symbols such as <span id="demo_sy">theta</span> simply type the name, in this case: theta</p>
		</div>
		<div>
			<span>Preview:</span>
			<span id="out"></span>
		</div>
	</div>
</body>
</html>